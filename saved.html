<html>

<head>

  <title>Thank you</title>


  <script src="js/p5.js"></script>
  <script src="js/p5.svg.js"></script>
  <script src="js/p5.dom.js"></script>
  <script src="js/jquery-2.1.4.min.js"></script>


<style>
body {
    padding: 0;
    margin: auto;
    display: block;
    width: 600px;
    height: 600px;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-style: solid;
    border-color: #ffffff;
}
div {
  position:absolute;
  top: 0px;
  left: 0px;
  padding: 0;



}
</style>

</head>

<body bgcolor="#222222">

<div id="svg0" height=400></div>
<div id="svg1" height=400></div>
<div id="svg2" height=400></div>
<div id="svg3" height=400></div>
<div id="svg4" height=400></div>
<div id="svg5" height=400></div>
<div id="svg6" height=400></div>
<div id="svg7" height=400></div>


  <script>

  $.get("http://drawingtennis.herokuapp.com/serve", function (result) {
    console.log("THE SERVER SAYS: ", result)
    // `result` here is an array of objects.
    // result.pop() returns the most recent object.
    // result.pop()['data'] is the svg string from that (most recent) object
    // console.log("number of saved drawings: ", result.length)
    // console.log("most recent drawing: ", result.pop()['data'])


      for(var i = 0; i<8; i++){
        var svg = document.getElementById('svg' + (7-i));
        svg.innerHTML = result[result.length-(i+1)]['data'];
      }


      // animatedly draw the last 8
      var counter = 0;

      window.setInterval(function(){
        counter++;
        var svg = document.getElementById('svg' + counter);
        svg.innerHTML = result[result.length-(counter)]['data'];
      }, 1000);

  })
  </script>


</body>

</html>
